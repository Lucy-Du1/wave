<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
    <link rel="stylesheet" href="./style2.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <style>
        body {
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
    </style>
  </head>
  <body>
    <main>
        <div class="header">
            <div><a href="index.html" class="link">SoundUtopia</a></div>
            <div id="Frequencies" class="clickable">Frequencies</div>
            <div>Pause</div>
        </div>
        
        <div class="content">
            <div class="medium">369Hz</div>
            <div class="medium">The Root Chakra</div>
            <div class="small">It works to cleanse feelings of guilt, fear, and trauma by bringing down defense mechanisms.</div>
            <div class="medium"><a href="2.html" class="link">Next</a></div>
        </div>
        <div id="frequencies-list" class="hidden">
            <div class="frequency-item">396Hz</div>
            <div class="frequency-item">417Hz</div>
            <div class="frequency-item">528Hz</div>
            <div class="frequency-item">639Hz</div>
            <div class="frequency-item">741Hz</div>
            <div class="frequency-item">852Hz</div>
            <div class="frequency-item">963Hz</div>
        </div>

        <iframe id="soundcloud-player"
    class="hidden-audio"
    scrolling="no" 
    frameborder="no" 
    allow="autoplay" 
    src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1217364100&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&visual=false">
</iframe>


<script src="https://w.soundcloud.com/player/api.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        let iframe = document.getElementById("soundcloud-player");
        let widget = SC.Widget(iframe); // 初始化 SoundCloud 控制器

        widget.bind(SC.Widget.Events.READY, function () {
            widget.play(); // 当 iframe 加载完毕后自动播放
        });
    });
</script>

    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.body.style.opacity = 1; 
        });
    </script>
    <div id="progress-bar-container">
        <div id="progress-bar"></div>
    </div>

    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let iframe = document.getElementById("soundcloud-player");
            let widget = SC.Widget(iframe); // 初始化 SoundCloud 控制器

            let progressBar = document.getElementById('progress-bar');

            widget.bind(SC.Widget.Events.READY, function () {
                widget.play(); // 播放音频
            });

            widget.bind(SC.Widget.Events.PLAY, function () {
                // 更新进度条
                setInterval(function () {
                    widget.getPosition(function(position) {
                        widget.getDuration(function(duration) {
                            let progress = (position / duration) * 100; // 计算进度百分比
                            progressBar.style.width = progress + "%"; // 更新进度条宽度
                        });
                    });
                }, 1000); // 每秒更新一次进度
            });
        });
    </script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        let frequenciesBtn = document.getElementById("Frequencies");
        let frequenciesList = document.getElementById("frequencies-list");

        frequenciesBtn.addEventListener("click", function () {
            frequenciesList.classList.toggle("hidden"); // 切换隐藏/显示
        });
    });
</script>

    
  </body>
</html>
